<div class="page">
	<div class="page__section page__section--padded">
		<h3>Dynamic Columns</h3>

		<p>Dynamic Columns can be re-ordered, activated and deactivated by the user.</p>

		<p>
			Query String: <code>{{ queryString }}</code>
		</p>
	</div>
	<div class="page__section">
		<porcelain-list>
			<porcelain-dynamic-header
				[(columns)]="activeColumns"
				[(activeSortDirection)]="activeSortDirection"
				[(activeSortKey)]="activeSortKey"
				(sortChange)="sortChanged($event)"
				[query]="query"
				(queryChange)="queryChanged($event)"
			></porcelain-dynamic-header>

			<porcelain-list-body *ngIf="currentPeople.length === 0">
				<p class="no-results">There are no people matching the current criteria.</p>
			</porcelain-list-body>

			<porcelain-list-body *ngIf="currentPeople.length > 0">
				<ng-container *ngFor="let person of currentPeople; let i = index"
					><!--assume this as document parent document and ngfor-->
					<porcelain-list-item>
						<porcelain-list-item-cell
							[width]="column.width"
							[padAll]="true"
							*ngFor="let column of activeColumns"
						>
							<ng-container *ngIf="column.key === 'last_name'">
								<strong>{{ person.first_name }} {{ person.last_name }}</strong
								><br />
								{{ person.email }}
								<a (click)="person.displayChild = !person.displayChild"
									>click me for displaying child</a
								>
								<!--child document display toggle-->
							</ng-container>
							<ng-container *ngIf="column.key !== 'last_name'">
								{{ person[column.key] }}
							</ng-container>
						</porcelain-list-item-cell>
					</porcelain-list-item>
					<ng-container
						><!--ng for here for child document Porcelain Child Component here-->
						<div *ngIf="person.displayChild">
							<!--Toogle Collapse-->
							<div *ngFor="let column of activeColumns">
								<ng-container *ngIf="column.key === 'last_name'">
									<span>child document for name</span>
								</ng-container>
								<ng-container *ngIf="column.key === 'address_1'">
									<span>child document for address_1</span>
								</ng-container>
								<ng-container *ngIf="column.key === 'city'">
									<span>child document for city</span>
								</ng-container>
								<ng-container *ngIf="column.key === 'state'">
									<span>child document for state</span>
								</ng-container>
								<ng-container *ngIf="column.key === 'zip'">
									<span>child document for zip</span>
								</ng-container>
							</div>
						</div>
					</ng-container>
				</ng-container>
			</porcelain-list-body>
		</porcelain-list>
	</div>
	<div class="page__section page__section--padded">
		<h4>Managing Columns with the Porcelain Rack</h4>

		<p>The Porcelain Rack is useful for managing and reordering lists.</p>

		<porcelain-rack
			[(activeItems)]="activeColumns"
			[(inactiveItems)]="inactiveColumns"
			[size]="6"
		></porcelain-rack>
	</div>
</div>
